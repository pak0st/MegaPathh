<script src="updated_words_data.js"></script>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const lang = urlParams.get('lang');
  const grade = urlParams.get('grade');
  const game = urlParams.get('game');

  const gameTitle = document.getElementById('game-title');
  const gameContainer = document.getElementById('game-container');

  const words = gradesData[grade];
  if (!words) {
    gameContainer.innerHTML = "<p>No words found for this grade.</p>";
    return;
  }

  if (game === "flashcard") {
    gameTitle.textContent = "Flashcards";
    let currentIndex = 0;

    function showCard() {
      if (currentIndex >= words.length) {
        gameContainer.innerHTML = "<h2>You've completed all cards!</h2>";
        return;
      }

      const word = words[currentIndex];
      gameContainer.innerHTML = `
        <h2>${word.word}</h2>
        <button id="show">Show Translation</button>
        <p id="translation" style="display:none;">${word.translation[lang]}</p>
        <button id="next">Next</button>
      `;

      document.getElementById("show").addEventListener("click", () => {
        document.getElementById("translation").style.display = "block";
      });

      document.getElementById("next").addEventListener("click", () => {
        currentIndex++;
        showCard();
      });
    }

    showCard();
  } else if (game === "word-picture") {
    gameTitle.textContent = "Word to Picture";
    gameContainer.innerHTML = `
      <ul>
        ${words.map(w => `<li>${w.word}</li>`).join("")}
      </ul>
      <p><em>Picture matching coming soon!</em></p>
    `;
  }
</script>
